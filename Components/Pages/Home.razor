@page "/"
@using REGISTROLEGAL.Components.Layout
@layout EmptyLayout
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager Navigation

@code
{
    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        if (authState.User.Identity == null || !authState.User.Identity.IsAuthenticated)
        {
            Navigation.NavigateTo("/Account/Login");
        }
    }
}