@inherits LayoutComponentBase
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager NavigationManager
@inject IDatabaseProvider DatabaseProviderService
@inject IUserData UserDataService
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@using Microsoft.AspNetCore.Identity
@using REGISTROLEGAL.Data
@using REGISTROLEGAL.Repositories.Interfaces

<header>
    <div class="container">
        <img src="logo-gob.png" class="img-fluid" alt="Gobierno Logo" style="height: 120px;">
    </div>
    <NavMenu/>
</header>
<div class="py-3 px-2">
    @if (IsDev)
    {
        <div class="alert alert-danger mx-5">
            <p>IsDev: @IsDev</p>
            <p>@Connection</p>
        </div>
    }
    @Body
</div>

@code{
    private bool IsDev { get; set; }
    private string Connection { get; set; } = "";

    protected override void OnInitialized()
    {
        IsDev = DatabaseProviderService.GetEnvironment();
        Connection = DatabaseProviderService.GetConnectionString();
    }
}